<p><a target="_blank" href="https://app.eraser.io/workspace/vSbLkfgXnjiUtpJ3NMzo" id="edit-in-eraser-github-link"><img alt="Edit in Eraser" src="https://firebasestorage.googleapis.com/v0/b/second-petal-295822.appspot.com/o/images%2Fgithub%2FOpen%20in%20Eraser.svg?alt=media&amp;token=968381c8-a7e7-472a-8ed6-4a6626da5501"></a></p>

## File Approach
# Example Request (cURL)
Bash

```
curl --location --request POST 'http://localhost:6007/admin/table/add' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzQyMTkxNzIxLCJleHAiOjE3NDIyNzgxMjF9.g9Tgoqiokt4zj0GaLBXaVK4rvN-B0jgt_JNvrVDXhxQ' \
--header 'Content-Type: application/json' \
--data-raw '{
    "title": "user_data",
    "schema": [
        { "column": "name", "type": "string" },
        { "column": "age", "type": "integer" },
        { "column": "email", "type": "string" },
        { "column": "created_at", "type": "date" }
    ]
}'
```
## Code Flow
1. **Request Reception:**
    - The API receives a POST request at `/admin/table/add` .
    - The JWT token from the `Authorization`  header is validated.
    - The request body is parsed as JSON.
2. **Input Validation:**
    - The `title`  and `schema`  are extracted from the request body.
    - The schema types are validated againts the type mapping.
3. **Table Name Generation:**
    - A unique table name is generated by appending a 6 digit number to the provided title.
4. **Model Definition Generation:**
    - A Sequelize model definition string is constructed.
    - An `id`  column (auto-incrementing primary key) is always included.
    - Columns from the `schema`  are added, mapping data types using a predefined mapping.
5. **File Creation:**
    - A new model file (e.g., `user_data_123456.model.js` ) is created in the `models`  directory.
    - The generated model definition string is written to the file.
6. **Index Update:**
    - The `index.js`  file in the `models`  directory is updated to import the new model.
7. **Database Synchronization:**
    - Sequelize synchronizes the database, creating the new table.






<!--- Eraser file: https://app.eraser.io/workspace/vSbLkfgXnjiUtpJ3NMzo --->